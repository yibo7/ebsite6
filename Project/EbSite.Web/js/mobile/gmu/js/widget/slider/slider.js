(function(d,c,e){var f=c.fx.cssPrefix,a=c.fx.transitionEnd,b=" translateZ(0)";d.define("Slider",{options:{loop:false,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var i=this,g=i.getEl(),h=i._options;i.index=h.index;i._initDom(g,h);i._initWidth(g,i.index);i._container.on(a+i.eventNs,c.proxy(i._tansitionEnd,i));c(window).on("ortchange"+i.eventNs,function(){i._initWidth(g,i.index)})},_initDom:function(j,l){var g=l.selector,k=l.viewNum||1,i,h;h=j.find(g.container);if(!h.length){h=c("<div></div>");if(!l.content){if(j.is("ul")){this.$el=h.insertAfter(j);h=j;j=this.$el}else{h.append(j.children())}}else{this._createItems(h,l.content)}h.appendTo(j)}if((i=h.children()).length<k+1){l.loop=false}while(l.loop&&h.children().length<3*k){h.append(i.clone())}this.length=h.children().length;this._items=(this._container=h).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray();this.trigger("done.dom",j.addClass("ui-slider"),l)},_createItems:function(h,j){var k=0,g=j.length;for(;k<g;k++){h.append(this.tpl2html("item",j[k]))}},_initWidth:function(h,g,k){var j=this,i;if(!k&&(i=h.width())===j.width){return}j.width=i;j._arrange(i,g);j.height=h.height();j.trigger("width.change")},_arrange:function(l,j){var h=this._items,k=0,m,g;this._slidePos=new Array(h.length);for(g=h.length;k<g;k++){m=h[k];m.style.cssText+="width:"+l+"px;left:"+(k*-l)+"px;";m.setAttribute("data-index",k);this._move(k,k<j?-l:k>j?l:0,0)}this._container.css("width",l*g)},_move:function(j,l,k,i){var g=this._slidePos,h=this._items;if(g[j]===l||!h[j]){return}this._translate(j,l,k);g[j]=l;i&&h[j].clientLeft},_translate:function(h,k,j){var g=this._items[h],i=g&&g.style;if(!i){return false}i.cssText+=f+"transition-duration:"+j+"ms;"+f+"transform: translate("+k+"px, 0)"+b+";"},_circle:function(i,h){var g;h=h||this._items;g=h.length;return(i%g+g)%h.length},_tansitionEnd:function(g){if(~~g.target.getAttribute("data-index")!==this.index){return}this.trigger("slideend",this.index)},_slide:function(n,l,g,h,k,j){var i=this,m;m=i._circle(n-g*l);if(!j.loop){g=Math.abs(n-m)/(n-m)}this._move(m,-g*h,0,true);this._move(n,h*g,k);this._move(m,0,k);this.index=m;return this.trigger("slide",m,n)},slideTo:function(m,k){if(this.index===m||this.index===this._circle(m)){return this}var j=this._options,h=this.index,l=Math.abs(h-m),g=l/(h-m),i=this.width;k=k||j.speed;return this._slide(h,l,g,i,k,j)},prev:function(){if(this._options.loop||this.index>0){this.slideTo(this.index-1)}return this},next:function(){if(this._options.loop||this.index+1<this.length){this.slideTo(this.index+1)}return this},getIndex:function(){return this.index},destroy:function(){this._container.off(this.eventNs);c(window).off("ortchange"+this.eventNs);return this.$super("destroy")}})})(gmu,gmu.$);