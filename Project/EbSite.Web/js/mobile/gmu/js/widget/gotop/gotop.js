(function(b,a,c){b.define("Gotop",{options:{container:"",useFix:true,useHide:true,useAnimation:false,position:{bottom:10,right:10},afterScroll:null},_init:function(){var g=this,e,d=g._options,f;g.on("ready",function(){e=g.$el;f=a.proxy(g._eventHandler,g);d.useHide&&a(document).on("touchmove",f);a(window).on("touchend touchcancel scrollStop",f);a(window).on("scroll ortchange",f);e.on("click",f);g.on("destroy",function(){a(window).off("touchend touchcancel scrollStop",f);a(document).off("touchmove",f);a(window).off("scroll ortchange",f)});d.useFix&&e.fix(d.position);d.root=e[0]});g.on("destroy",function(){g.$el.remove()})},_create:function(){var d=this;if(!d.$el){d.$el=a("<div></div>")}d.$el.addClass("ui-gotop").append("<div></div>").appendTo(d._options.container||(d.$el.parent().length?"":document.body));return d},_eventHandler:function(f){var d=this;switch(f.type){case"touchmove":d.hide();break;case"scroll":clearTimeout(d._options._TID);break;case"touchend":case"touchcancel":clearTimeout(d._options._TID);d._options._TID=setTimeout(function(){d._check.call(d)},300);break;case"scrollStop":d._check();break;case"ortchange":d._check.call(d);break;case"click":d._scrollTo();break}},_check:function(d){var e=this;(d!==c?d:window.pageYOffset)>document.documentElement.clientHeight?e.show():e.hide();return e},_scrollTo:function(){var d=this,e=window.pageYOffset;d.hide();clearTimeout(d._options._TID);if(!d._options.useAnimation){window.scrollTo(0,1);d.trigger("afterScroll")}else{d._options.moveToTop=setInterval(function(){if(e>1){window.scrollBy(0,-Math.min(150,e-1));e-=150}else{clearInterval(d._options.moveToTop);d.trigger("afterScroll")}},25,true)}return d},show:function(){this._options.root.style.display="block";return this},hide:function(){this._options.root.style.display="none";return this}})})(gmu,gmu.$);